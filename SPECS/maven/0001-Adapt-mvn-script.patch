From bb14b2eaf8c2a0c68a122b3aff68018a12e83f0f Mon Sep 17 00:00:00 2001
From: mbykhovtsev-ms <mbykhovtsev@microsoft.com>
Date: Thu, 23 Mar 2023 15:26:35 -0700
Subject: [PATCH 1/6] Adapt mvn script

---
 apache-maven/src/bin/mvn | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

diff --git a/apache-maven/src/bin/mvn b/apache-maven/src/bin/mvn
index dfa384b..28b859d 100644
--- a/apache-maven/src/bin/mvn
+++ b/apache-maven/src/bin/mvn
@@ -22,7 +22,7 @@
 #
 # Environment Variable Prerequisites
 #
-#   JAVA_HOME       Must point at your Java Development Kit installation.
+#   JAVA_HOME       (Optional) Must point at your Java Development Kit installation.
 #   MAVEN_OPTS      (Optional) Java runtime options used when Maven is executed.
 #   MAVEN_SKIP_RC   (Optional) Flag to disable loading of mavenrc files.
 # -----------------------------------------------------------------------------
@@ -37,6 +37,11 @@ if [ -z "$MAVEN_SKIP_RC" ] ; then
     . /etc/mavenrc
   fi
 
+  if [ -z "$JAVA_HOME" ] ; then
+   . /etc/java/maven.conf
+  fi
+
+
   if [ -f "$HOME/.mavenrc" ] ; then
     . "$HOME/.mavenrc"
   fi
-- 
2.25.1

